(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["camera"],{5517:function(e,t,a){"use strict";var i=a("ec0a"),r=a.n(i);r.a},"6ec0":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"camera-modal"},[a("video",{ref:"video",staticClass:"camera-stream"}),a("div",{staticClass:"camera-modal-container"}),a("v-btn",{staticClass:"take-picture-button",attrs:{color:"pink",dark:"",fab:""},on:{click:e.capture}},[a("v-icon",[e._v("camera")])],1)],1)},r=[],n=(a("d81d"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("3275")),o={data:function(){return{mediaStream:null}},mounted:function(){var e=this;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({video:!0}).then((function(t){e.mediaStream=t,e.$refs.video.srcObject=t,e.$refs.video.play()})).catch((function(e){return console.error("getUserMedia() error:",e)})):navigator.getUserMedia?navigator.getUserMedia({video:!0},(function(e){this.mediaStream=e,this.$refs.video.srcObject=e,this.$refs.video.play()})):navigator.webkitGetUserMedia?navigator.webkitGetUserMedia({video:!0},(function(e){this.mediaStream=e,this.$refs.video.srcObject=window.webkitURL.createObjectURL(e),this.$refs.video.play()})):navigator.mozGetUserMedia&&navigator.mozGetUserMedia({video:!0},(function(e){this.mediaStream=e,this.$refs.video.srcObject=window.URL.createObjectURL(e),this.$refs.video.play()}))},methods:{capture:function(){var e=this,t=this.mediaStream.getVideoTracks()[0],a=new window.ImageCapture(t);return a.takePhoto().then((function(t){n["a"].storage.ref().child("images/picture-".concat((new Date).getTime())).put(t).then((function(t){t.ref.getDownloadURL().then((function(t){alert("File available at",t),e.$router.push({name:"post",params:{pictureUrl:t}})}))})).catch((function(t){console.log(t),e.$router.go(-1)}))}))}},destroyed:function(){var e=this.mediaStream.getTracks();e.map((function(e){return e.stop()}))}},c=o,s=(a("5517"),a("2877")),d=a("6544"),u=a.n(d),v=a("8336"),m=a("132d"),f=Object(s["a"])(c,i,r,!1,null,"aac05178",null);t["default"]=f.exports;u()(f,{VBtn:v["a"],VIcon:m["a"]})},ec0a:function(e,t,a){}}]);
//# sourceMappingURL=camera.9a43eff1.js.map